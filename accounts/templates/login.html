{% extends 'base.html' %}

{% block start %}

<div class="container pt-5">
    <div class="card w-50 mx-auto shadow p-4">
           
        <form method="POST">
            
            {% csrf_token %}
            
            {% include 'alerts.html' %}
            
            <div class="mb-3">
                <label for="Email" class="form-label">Email</label>
                <input type="email" name="email" class="form-control" id="Email" placeholder="Enter Your Email">
            </div>
            <div class="mb-3">
                <label for="password" class="form-label">Verify Password</label>
                <input type="password" name="password" class="form-control" id="password" placeholder="Enter Password">
            </div>
            <button type="submit" class="btn btn-success w-70 ">Submit</button>
            <button type="button" class="btn btn-primary w-70" onclick="sendOTP()">Login with OTP</button>
            
            {% if email %}
                <a href="{% url 'send_otp' email=email %}" class="btn btn-primary w-70">Login with OTP</a>
      
                
            {% endif %}

            <p class="mt-3">Don't have an account? <a href="/accounts/register/">Sign Up</a></p>
        </form>
    </div>
</div>

<script>
  function sendOTP() {
    var email = document.getElementById("Email").value;
    if (!email) {
      alert("Please enter your email first.");
      return;
    }
    window.location.href = "/accounts/send-otp/" + encodeURIComponent(email) + "/";
  }
</script>
{% endblock %}